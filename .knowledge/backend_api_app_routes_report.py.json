{"is_source_file": true, "format": "Python", "description": "This file defines API endpoints for generating session reports and user history related to interview feedback. It sets up Flask routes using flask_smorest, schemas for data validation, and database query functions.", "external_files": ["flask_smorest", "flask.views", "marshmallow", "flask", "...app.db"], "external_methods": ["abort", "g", "query_one", "query_all"], "published": ["blp"], "classes": [{"name": "SessionReportSchema", "description": "Schema defining the structure of session report data including session ID and average scores."}, {"name": "HistoryItemSchema", "description": "Schema representing individual history items with optional role, status, and timestamp."}, {"name": "HistoryListSchema", "description": "Schema encapsulating a list of history items."}, {"name": "SessionReport", "description": "API View for retrieving aggregated feedback scores for a specific session."}, {"name": "MyHistory", "description": "API View for retrieving the current user's interview session history with aggregate data."}], "methods": [{"name": "_require_user()", "description": "Helper function to ensure a user is authenticated by checking 'g.user' and aborting with 401 if not authenticated.", "scope": "", "scopeKind": ""}, {"name": "get(self)", "description": "Method handling GET requests for SessionReport, returning aggregated session feedback data.", "scope": "MyHistory", "scopeKind": "class"}, {"name": "get(self, session_id: int)", "description": "Method handling GET requests for MyHistory, returning list of user interview sessions.", "scope": "SessionReport", "scopeKind": "class"}], "calls": ["query_one", "query_all", "abort", "g.user"], "search-terms": ["flask_smorest Blueprint", "SessionReportSchema", "HistoryItemSchema", "feedback", "responses", "/report", "/session/<int:session_id>", "/my"], "state": 2, "file_id": 15, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "HistoryItemSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^class HistoryItemSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "HistoryListSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^class HistoryListSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MyHistory", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^class MyHistory(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionReport", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^class SessionReport(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionReportSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^class SessionReportSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_require_user", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^def _require_user():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "avg_communication", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    avg_communication = fields.Float(required=True)$/", "language": "Python", "kind": "variable", "scope": "SessionReportSchema", "scopeKind": "class"}, {"_type": "tag", "name": "avg_completeness", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    avg_completeness = fields.Float(required=True)$/", "language": "Python", "kind": "variable", "scope": "SessionReportSchema", "scopeKind": "class"}, {"_type": "tag", "name": "avg_correctness", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    avg_correctness = fields.Float(required=True)$/", "language": "Python", "kind": "variable", "scope": "SessionReportSchema", "scopeKind": "class"}, {"_type": "tag", "name": "avg_overall", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    avg_overall = fields.Float(required=False)$/", "language": "Python", "kind": "variable", "scope": "HistoryItemSchema", "scopeKind": "class"}, {"_type": "tag", "name": "avg_overall", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    avg_overall = fields.Float(required=True)$/", "language": "Python", "kind": "variable", "scope": "SessionReportSchema", "scopeKind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^blp = Blueprint(\"Report\", \"report\", url_prefix=\"\\/report\", description=\"Reports and history\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "count", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    count = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "SessionReportSchema", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    created_at = fields.DateTime(required=False)$/", "language": "Python", "kind": "variable", "scope": "HistoryItemSchema", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "MyHistory", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    def get(self, session_id: int):$/", "language": "Python", "kind": "member", "signature": "(self, session_id: int)", "scope": "SessionReport", "scopeKind": "class"}, {"_type": "tag", "name": "items", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    items = fields.List(fields.Nested(HistoryItemSchema))$/", "language": "Python", "kind": "variable", "scope": "HistoryListSchema", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    role = fields.String(required=False)$/", "language": "Python", "kind": "variable", "scope": "HistoryItemSchema", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    session_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "HistoryItemSchema", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    session_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "SessionReportSchema", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/report.py", "pattern": "/^    status = fields.String(required=False)$/", "language": "Python", "kind": "variable", "scope": "HistoryItemSchema", "scopeKind": "class"}], "hash": "aaa230d86ec8ae5489f92ff075825fb0", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/app/routes/report.py", "fields": [{"name": "avg_communication = fields.Float(required=True)", "scope": "SessionReportSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "avg_completeness = fields.Float(required=True)", "scope": "SessionReportSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "avg_correctness = fields.Float(required=True)", "scope": "SessionReportSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "avg_overall = fields.Float(required=False)", "scope": "HistoryItemSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "avg_overall = fields.Float(required=True)", "scope": "SessionReportSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "blp = Blueprint(\"Report\", \"report\", url_prefix=\"\\/report\", description=\"Reports and history\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "count = fields.Integer(required=True)", "scope": "SessionReportSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "created_at = fields.DateTime(required=False)", "scope": "HistoryItemSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "items = fields.List(fields.Nested(HistoryItemSchema))", "scope": "HistoryListSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "role = fields.String(required=False)", "scope": "HistoryItemSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "session_id = fields.Integer(required=True)", "scope": "HistoryItemSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.String(required=False)", "scope": "HistoryItemSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}