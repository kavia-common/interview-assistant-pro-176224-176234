{"is_source_file": true, "format": "Python", "description": "This file defines API routes and handlers for managing interview sessions within a web application, including starting interviews, submitting answers with NLP scoring, and checking interview status.", "external_files": ["flask_smorest", "flask.views", "marshmallow", "flask", "../db", "../services/nlp"], "external_methods": ["flask_smorest.Blueprint", "flask_smorest.abort", "flask.views.MethodView", "marshmallow.Schema", "marshmallow.fields", "flask.g", "../db.execute", "../db.query_one", "../services/nlp.score_answer"], "published": ["blp"], "classes": [{"name": "StartSchema", "description": "Schema for initial interview start request, accepts an optional role/topic."}, {"name": "StartResponseSchema", "description": "Schema for response after starting an interview, provides session ID."}, {"name": "AnswerSchema", "description": "Schema for submitting an answer, including session, question ID, and answer text."}, {"name": "FeedbackSchema", "description": "Schema for feedback response, includes response ID and feedback data."}, {"name": "StatusQuerySchema", "description": "Schema for querying session status, requires session ID."}, {"name": "StatusResponseSchema", "description": "Schema for session status response, including session ID and current status."}], "methods": [{"name": "_require_user()", "description": "Utility function to ensure a user is authenticated, aborts with 401 if not.", "scope": "", "scopeKind": ""}, {"name": "post (StartInterview)", "description": "Handles POST requests to start a new interview session, creating a session record."}, {"name": "post (SubmitAnswer)", "description": "Handles POST requests to submit an answer, stores response, computes and stores feedback."}, {"name": "get (SessionStatus)", "description": "Handles GET requests to retrieve the status of a specified interview session."}, {"name": "get(self, args)", "scope": "SessionStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, args)", "scope": "SubmitAnswer", "scopeKind": "class", "description": "unavailable"}], "calls": ["execute", "query_one", "score_answer", "abort"], "search-terms": ["interview sessions", "score_answer", "response feedback", "session management", "flask_smorest routes", "interview API"], "state": 2, "file_id": 12, "knowledge_revision": 65, "git_revision": "836481a01538a713d597b495cce5e6fc13cf4bbc", "revision_history": [{"26": ""}, {"65": "836481a01538a713d597b495cce5e6fc13cf4bbc"}], "ctags": [{"_type": "tag", "name": "AnswerSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class AnswerSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "FeedbackSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class FeedbackSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SessionStatus", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class SessionStatus(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StartInterview", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class StartInterview(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StartResponseSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class StartResponseSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StartSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class StartSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StatusQuerySchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class StatusQuerySchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "StatusResponseSchema", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class StatusResponseSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SubmitAnswer", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^class SubmitAnswer(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_require_user", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^def _require_user():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "answer_text", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    answer_text = fields.String(required=True)$/", "language": "Python", "kind": "variable", "scope": "AnswerSchema", "scopeKind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^blp = Blueprint(\"Interview\", \"interview\", url_prefix=\"\\/interview\", description=\"Interview flow /", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "feedback", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    feedback = fields.Dict(required=True)$/", "language": "Python", "kind": "variable", "scope": "FeedbackSchema", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    def get(self, args):$/", "language": "Python", "kind": "member", "signature": "(self, args)", "scope": "SessionStatus", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    def post(self, args):$/", "language": "Python", "kind": "member", "signature": "(self, args)", "scope": "StartInterview", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    def post(self, args):$/", "language": "Python", "kind": "member", "signature": "(self, args)", "scope": "SubmitAnswer", "scopeKind": "class"}, {"_type": "tag", "name": "question_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    question_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "AnswerSchema", "scopeKind": "class"}, {"_type": "tag", "name": "response_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    response_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "FeedbackSchema", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    role = fields.String(required=False, description=\"Role or topic for interview\")$/", "language": "Python", "kind": "variable", "scope": "StartSchema", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    session_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "AnswerSchema", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    session_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "StartResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    session_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "StatusQuerySchema", "scopeKind": "class"}, {"_type": "tag", "name": "session_id", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    session_id = fields.Integer(required=True)$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176234/backend_api/app/routes/interview.py", "pattern": "/^    status = fields.String(required=True)$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}], "hash": "6889c8d0d24a1a0ad922c771cbfd4668", "format-version": 4, "code-base-name": "backend_api", "filename": "backend_api/app/routes/interview.py", "fields": [{"name": "answer_text = fields.String(required=True)", "scope": "AnswerSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "blp = Blueprint(\"Interview\", \"interview\", url_prefix=\"\\/interview\", description=\"Interview flow /", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "feedback = fields.Dict(required=True)", "scope": "FeedbackSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "question_id = fields.Integer(required=True)", "scope": "AnswerSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "response_id = fields.Integer(required=True)", "scope": "FeedbackSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "role = fields.String(required=False, description=\"Role or topic for interview\")", "scope": "StartSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "session_id = fields.Integer(required=True)", "scope": "AnswerSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.String(required=True)", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}]}